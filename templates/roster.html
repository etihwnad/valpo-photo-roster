<!doctype html>
<html>
    <title>Generate a Photo Roster</title>
<head>
<style>
.errors { color: red; }

  /* Page layout */
  body {
    max-width: 700px;       /* nice readable line length */
    margin: 2rem auto;      /* center content with breathing room */
    padding: 0 1rem;        /* small side padding */
    line-height: 1.5;       /* more readable text */
  }

  /* Headings */
  h1, h2, h3 {
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  /* Paragraphs & lists */
  p {
    margin: 1rem 0;
  }
  ul {
    padding-left: 1.5rem;
    margin: 1rem 0;
  }

  /* Form elements */
  form div {
    margin: 0.75rem 0;
  }
  input, select, textarea {
    padding: 0.4rem 0.6rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    width: auto;
    max-width: 100%;
  }
  input[type=submit], button {
    cursor: pointer;
    margin-top: 0.5rem;
  }

  /* Error messages */
  .errors {
    color: red;
    font-weight: bold;
  }

  /* Horizontal rule for clearer separation */
  hr {
    margin: 2rem 0;
    border: none;
    border-top: 1px solid #ddd;
  }

  /* Images (e.g. your sample PNG) */
  img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 1rem 0;
  }
</style>
</head>

<body>

<h1>Generate a Photo Roster</h1>

<h2>Instructions</h2>

<p>This form accepts a CSV file exported from the Canvas gradebook.</p>

<a href="/static/example.pdf">An example of the PDF it generates.</a>

<p>Get to the Canvas download form by:
Grades &rarr; (button) Export &rarr; Export Entire Gradebook.</p>

It uses only the following two columns from that export:
<ul>
    <li>"<b>Student</b>"
    <li>"<b>SIS User ID</b>"
</ul>

You may edit the CSV file as desired to use preferred names, etc.
Names are interpreted as "Last, First" since the export doesn't provide separate columns.



<p>Thanks to Stewart Thomas for the nice transparent overlay formatting of the names with TikZ.</p>

<p>Errors or comments?  Contact <a href="mailto:dan.white@valpo.edu?subject=photoroster: ">Dan White</a>.

<!--<p>
The software which runs this site is available at <a href="https://github.com/etihwnad/valpo-photo-roster">https://github.com/etihwnad/valpo-photo-roster</a>.
-->
<hr>

<em>N.B.</em> This site does <b>not</b> use HTTP<b><u>S</u></b>, so your web browser may not allow
downloading the file by default.
Select "Keep" in your downloads tab to finish downloading.

<br>

<img src="/static/keep-download.png">

<hr>

{% macro render_field(field) %}
  <div>{{ field.label }}: {{ field(**kwargs)|safe }} {% if field.errors %} <span class=errors> {% for error in field.errors %} {{ error }} {% endfor %} </span> {% endif %}
  </div>
{% endmacro %}

<form method="POST" action="" enctype="multipart/form-data">
    {{ render_field(form.title) }}
    {{ render_field(form.orient) }}
    {{ render_field(form.columns) }}
    {{ render_field(form.csvfile) }}
    {{ form.csrf_token() }}
    {{ form.submit }}
    <p><input type=submit value=Submit>
</form>

<div>{% if errors %} <span class=errors> {% for error in errors %} <pre>{{ error }}<pre><br><br> {% endfor %} </span> {% endif %}</div>

<h2>Tips</h2>
<ul>
    <li>Portrait 4-cols fits 16/page</li>
    <li>Portrait 5-cols fits 25/page</li>
    <li>Landscape 6-cols fits 18/page</li>
    <li>Landscape 7-cols fits 28/page</li>
</ul>



</body>
</html>
